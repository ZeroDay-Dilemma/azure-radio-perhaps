<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="src/somecss.css">
  <script src="src/someJS.js"></script>
  <script src="src/showDB_Obscured_encoded.json" type="application/json"></script>
  <script src="src/specialEvents.json" type="application/json"></script>
  <title>Schedule</title>
  <style>
    .calendar {
      width: 100%;
      border-collapse: collapse;
      background-color: white;
      margin: 20px 0;
      table-layout: fixed;
    }


    @media (max-width: 768px) {
      .calendar {
        width: 100%;
      }

      .showElemDiv h3 {
        font-size: 0.8em !important;
      }

      .showElemDiv p {
        font-size: 0.6em !important;
      }
    }

    .calendar th,
    .calendar td {
      border: 1px solid var(--Light-Gray);
      padding: 8px;
      text-align: center;
    }

    .calendar th {
      background-color: var(--AOK-Teal);
      color: var(--Gold);
      font-weight: bold;
    }

    .calendar td {
      height: 40px;
      position: relative;
    }

    .calendar td.hour-mark {
      background-color: var(--Light-Gray);
      font-weight: bold;
      color: var(--Black);
      width: 80px;
    }

    .current-hour {
      background-color: var(--Gold) !important;
      color: black !important;
    }

    .calendar td.current-hour,
    .calendar td.current-hour p,
    .calendar td.current-hour a {
      color: black !important;
    }

    .calendar td.current-hour h3 {
      color: var(--Red) !important;
    }


    .calendar .show-block {
      background-color: var(--Retriever-Brown);
      color: white;

    }

    .show-cell {
      background-color: var(--AOK-Teal);
    }

    .special-event h3 {
      text-align: center;
      font-size: 1.5em;
      color: white;
      background-color: var(--AOK-Teal);
      padding: 10px;
      border-radius: 10px;
      /* animation: festive 10s infinite alternate; */
    }

    @keyframes festive {
      0% {
        background-color: var(--AOK-Teal);
      }

      100% {
        background-color: var(--Gold);
      }
    }

    .showElemDiv {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100%;
      position: absolute;
      padding: 4px;
      border-radius: 4px;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .showElemDiv h3 {
      margin: 0;
      padding: 0;
      text-align: center;
      font-size: 1em;
      color: var(--Gold);
    }

    .showElemDiv p {
      margin: 0;
      padding: 0;
      text-align: center;
      font-size: 0.8em;
      color: white;
    }

    .specialEvent {
      background-color: var(--Dark-Gray);
      color: white;
    }

    .special-event-enabled span{
      /* color: var(--Red); */
      animation: weAreLive 3s infinite alternate;
    }

    
    @keyframes weAreLive {
      0% {
        color: white;
      }
      30% {
        color: white;
      }
      70% {
        color: var(--Red);
      }

      100% {
        color: var(--Red);
      }
    }

    #specialEventTitlebox {
      visibility: hidden;
      /*10 padding all around default
  24 margin top bottom default*/
      padding: 0px;
      margin:0px;
    }

    .special-event-enabled {
      visibility: visible !important;
    }
    .special-event-enabled h3{
      padding: 10px !important;
      margin: 0 24px !important;

    }

    #clickableLive {
      /* make not an obvious link, want whole element to seem clickable */
      visibility: hidden;
      text-decoration: none;
      color: inherit;
    }


    .calendar th:not(:first-child),
    .calendar td:not(:first-child) {
      width: calc((100% - 80px) / 7);
    }
  </style>
</head>

<body>
  <header>
    <div class="logo-circle">
      <img
        src="data:image/png;base64,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"
        alt="University Radio Station Logo">
    </div>
    <h1>WMBC: Weekly Schedule</h1>
  </header>
  <nav class="tabs">
    <ul>
      <li><a href="index.html">Listen!</a></li>
      <li><a href="schedulePage.html">Schedule</a></li>
      <li><a href="baseDJPage.html">Explore our shows!</a></li>
    </ul>
  </nav>
  <div class="container" style="margin-bottom:20px">
    <a id="clickableLive" class="special-event">
      <h3 class="special-event" id="specialEventTitlebox"></h3>
    </a>

    <table class="calendar">
      <thead>
        <tr>
          <th>Time</th>
          <th>Sunday</th>
          <th>Monday</th>
          <th>Tuesday</th>
          <th>Wednesday</th>
          <th>Thursday</th>
          <th>Friday</th>
          <th>Saturday</th>
        </tr>
      </thead>
      <tbody>
        <!-- Rows for each hour from 11:00 AM to 11:00 PM -->
        <tr>
          <td class="hour-mark">11:00 AM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">12:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">1:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">2:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">3:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">4:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">5:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">6:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">7:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">8:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">9:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">10:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td class="hour-mark">11:00 PM</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>
  <footer class="footer">
    <p style>WMBC's Web Player, made by will :3</p>
  </footer>

  <script>
    const dayToIndex = {
      "Sunday": 0,
      "Monday": 1,
      "Tuesday": 2,
      "Wednesday": 3,
      "Thursday": 4,
      "Friday": 5,
      "Saturday": 6
    };

    //add function so when its viewed on mobile, the day titles are replaced
    //with abbreviations, and the cells are elongated
    document.addEventListener("DOMContentLoaded", function () {
      const dayTitles = document.querySelectorAll(".calendar thead th");
      const dayCells = document.querySelectorAll(".calendar tbody tr td");
      if (window.innerWidth < 600) {
        dayTitles.forEach((title, i) => {
          if (title.textContent !== "Time") {
            title.textContent = title.textContent.slice(0, 3);
          }
        });
        dayCells.forEach(cell => {
          cell.style.width = "20%";
          //make cells taller
          cell.style.padding = "20px 0";
        });

      }
    });

    function decodeName(encodedName, key) {
      // Decode the Base64 string
      const encodedBytes = Uint8Array.from(atob(encodedName), c => c.charCodeAt(0));

      // Convert key to byte array
      const keyBytes = new TextEncoder().encode(key);

      // XOR each byte of the encoded name with the corresponding byte of the key
      const decodedBytes = encodedBytes.map((byte, i) => byte ^ keyBytes[i % keyBytes.length]);

      // Convert the byte array back to a string
      return new TextDecoder().decode(decodedBytes);
    }

    var DJ_JSON;
    document.addEventListener("DOMContentLoaded", function () {
      //Fetch data
      fetch('./src/showDB_Obscured_encoded.json')
        .then((response) => response.json())
        .then((json) => {
          console.log(json);
          DJ_JSON = json;
          loadSpecialtyShows();
        })

    });

    function loadSpecialtyShows() {
      const bkup_DJ = DJ_JSON;
      fetch('./src/specialEvents.json')
        .then((response) => response.json())
        .then((json) => {
          console.log(json);
          //append to existing array of shows
          //remove the first element, which is the header
          if (json.length === 0) {
            console.log("no special events");
            populateSchedule();
            return;
          }
          if (!json[0].hasOwnProperty("eventTitle") || !json[0].hasOwnProperty("eventDescription") || !json[0].hasOwnProperty("runTime")) {
            console.log("incorrectly formatted specialty show list!");
            DJ_JSON = bkup_DJ;
            populateSchedule();
            return;
          }

          const eventInfoJson = json.shift();
          DJ_JSON = DJ_JSON.concat(json);

          console.log(eventInfoJson)
          console.log("passing event title to populate schedule");
          populateSchedule(eventInfoJson)
          return;
        }).catch(error => {
          console.log(error);
          console.log("SHOULD ONLY HIT ON FAILURE");
          console.log("error loading specialty shows");

          DJ_JSON = bkup_DJ;
          populateSchedule();
          return;
          });

    }


    // JavaScript to highlight the current hour
    const highlightCurrentHour = () => {
      console.log("highlighting current hour");
      const now = new Date();
      const currentHour = now.getHours();
      const currentMinutes = now.getMinutes();

      //if time is outside of 11am-11pm, return
      if (currentHour < 11 || currentHour > 23) {
        console.log("outside of 11am-11pm");
        return;
      }
      // Convert current time to 12-hour format
      let displayHour = currentHour % 12 || 12;
      const ampm = currentHour >= 12 ? "PM" : "AM";
      const currentTime = `${displayHour}:00 ${ampm}`;
      const currentDay = now.getDay();
      const currentDayName = Object.keys(dayToIndex).find(key => dayToIndex[key] === currentDay);
      // Find the row with the current hour and add the "current-hour" class
      const rows = document.querySelectorAll(".calendar tbody tr");
      rows.forEach(row => {
        const hourCell = row.querySelector(".hour-mark");
        //get the current hour, and the current day of the week
        if (hourCell.textContent === currentTime) {
          hourCell.parentElement.children[currentDay + 1];
          hourCell.parentElement.children[currentDay + 1].classList.add("current-hour");
        }
      });

      //add a check to see if the current hour cell also has the class "show-cell"
      //if so, overwrite the <p> tag to read "Now Playing!"
      //wait until 
      const currentHourCell = document.querySelector(".current-hour");
      if (currentHourCell) {
        console.log("current cell found");
        var classList = currentHourCell.classList
        if (classList.contains("show-cell")) {
          const showElemDiv = currentHourCell.querySelector(".showElemDiv");
          showElemDiv.children[1].innerHTML += `<br> <span style="font-weight:bold; font-size:1em">Now Playing!</span>`;
        }
      }
    };
    function loadHostNames(hostNames, DECODE_KEY) {
      //console.log("decrypting....");
      var outputNames = [];
      hostNames.forEach(name => {
        //console.log(name);
        if (name) {
          //console.log(name, "todo");
          var crackedName = decodeName(name, DECODE_KEY);
          //console.log(crackedName, "todo");
          outputNames.push(crackedName);
        }
      });
      return outputNames;
    }

    function isEventLive(eventInfoJson) {
      //determine if event is currently running via runTime
      // "runTime": {
      //   "dayOfWeek": "Monday",
      //   "startTime": "12:00",
      //   "durationMinutes": 660
      // } 
      const now = new Date();
      const currentHour = now.getHours();
      const currentMinutes = now.getMinutes();
      const currentDay = now.getDay();
      const currentDayName = Object.keys(dayToIndex).find(key => dayToIndex[key] === currentDay);
      const currentTime = `${currentHour}:${currentMinutes}`;
      console.log(eventInfoJson.runTime);
      const runDay = eventInfoJson.runTime.dayOfWeek;
      const runHour = eventInfoJson.runTime.startTime.split(":")[0];
      const runMinutes = eventInfoJson.runTime.startTime.split(":")[1];
      const runDuration = eventInfoJson.runTime.durationMinutes;
      // need to match day to current day and schedule time to current time
      if (runDay === currentDayName) { //same day
        //show ends at start hour + runDuration%60 (its in minutes), then also then round the remainder to 15/30/45/00 minutes
        const endHour = (parseInt(runHour) + Math.floor(runDuration / 60)) % 24;
        const endMinutes = (parseInt(runMinutes) + runDuration % 60) % 60;
        console.log("end time: ", endHour, ":", endMinutes);
        console.log(currentHour , " >=? ", parseInt(runHour), " && ", currentHour, " <? ", (parseInt(endHour)));
        if(currentHour >= parseInt(runHour) && currentHour < endHour) {
          console.log("event is live!");
          return true;
        }
      }
      console.log("event is not live");
      return false;

    }
    function populateSchedule(eventInfoJson = { eventTitle: "!NOEVENT", eventDescription: "", runTimeStr: "", runTime: "" }) {


      if (eventInfoJson.eventTitle !== "!NOEVENT") {
        console.log(eventInfoJson);
        console.log("handling a special event!");
        const specialEventTitle = document.getElementById("specialEventTitlebox");
        const specialEventLink = document.getElementById("clickableLive");
        let eventDisplayTitle = eventInfoJson.eventTitle + " " + eventInfoJson.runTimeStr + "! ";


        const isLiveBool = isEventLive(eventInfoJson);
        specialEventTitle.innerHTML = eventDisplayTitle + `<span id="isLiveDot" style="color=var(--Red)">${isLiveBool ? "●LIVE" : ""}</span>`;
        if (isLiveBool) {
          specialEventLink.href = "index.html";
        }
        specialEventLink.classList.add("special-event-enabled");
        specialEventTitle.classList.add("special-event-enabled");

      }
      else {
        console.log("no special event");
        console.log("moving on....");
      }

      const DECODE_KEY = "IHEARTWILLTOLEDO!!!!";
      const schedule = DJ_JSON;
      const rows = document.querySelectorAll(".calendar tbody tr");
      for (let i = 0; i < schedule.length; i++) {
        const show = schedule[i];
        const dayIndex = dayToIndex[show.broadcastTime.dayOfWeek];
        //console.log(dayIndex);
        const startTime = show.broadcastTime.startTime.split(":")[0];
        //console.log(startTime);
        const duration = show.broadcastTime.durationMinutes;
        //console.log(duration);
        //duration is minutes, start time in 24 hour format
        const isHour = (duration === 60) ? true : false;
        //console.log(isHour);
        const endTime = (parseInt(startTime) + (isHour ? 1 : 0)) % 24;
        //console.log(endTime);
        let showName = show.showName;
        //console.log(showName);
        if (showName === "Ebbs %26 Flows") {
          showName = "Ebbs & Flows";
          console.log("jenny handled");
        }
        else if (showName === "Ranting %26 Raving") {
          showName = "Ranting & Raving";
          console.log("other person handled");
        }
        const encryptedHostNames = show.hostNames;
        //console.log(encryptedHostNames);
        const standardShow = show.standardShow;
        //if special show, do not decrypt
        var hostNames = "";
        if (standardShow) {
          hostNames = loadHostNames(encryptedHostNames, DECODE_KEY);
        }
        else {
          hostNames = encryptedHostNames;
        }

        //console.log(hostNames);
        const showBlurb = show.showBlurb;
        //console.log(showBlurb);
        const image = show.image;

        //console.log(standardShow);
        //const previousPlaylists = show.previousPlaylists;
        const row = rows[startTime - 11];
        const cell = row.children[dayIndex + 1];
        const showElement = document.createElement("div");
        //check if already has a show
        //if so, check if new show is special
        //if so, overwrite

        if (cell.children.length > 0) {
          if (standardShow) {
            continue;
          } else {
            cell.innerHTML = "";
          }
        }

        showElement.classList.add("show");
        //make each element clickable and bring you to
        //the show's page, which will be
        // URLbaseDJPage.html?showName=${encodeURIComponent(selectedShowName)}
        showElement.innerHTML = `
        
        <a href="baseDJPage.html?showName=${encodeURIComponent(showName)}">
        <div class="showElemDiv">
          <h3 class="showElem">${showName}</h3>
          <p>${hostNames.join(", ")}</p>
        </div>
        </a>
        `;
        //if special, set class to special
        cell.classList.add("show-cell");

        if (!standardShow) {
          cell.classList += " specialEvent";
          //remove href if special
          showElement.children[0].removeAttribute("href");
        }
        cell.appendChild(showElement);

      }
      highlightCurrentHour();
    }

    // Call the function to highlight the current hour
  </script>
</body>

</html>